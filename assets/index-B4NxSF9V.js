(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const i="/jplayer-skin-audiocheck/assets/poster-audiotheme-C3F4PnG4.jpg";class d{constructor(){this.isInitialized=!1,this.elements={posterImg:null,player:null,toggles:null,jpAudio:null}}init(){try{this.setupTouchDetection(),this.setupElements(),this.setInitialPoster(),this.setupPlaylistDisplay(),this.isInitialized=!0}catch(e){console.error("Failed to initialize AudioPlayerApp:",e)}}setupTouchDetection(){const e="ontouchstart"in window||"onmsgesturechange"in window;document.body.classList.add(e?"touch":"no-touch")}setupElements(){this.elements={posterImg:document.getElementById("track-poster-img"),player:document.querySelector(".audio-player"),toggles:document.querySelectorAll(".playlist-toggles button"),jpAudio:document.querySelector(".jp-audio")}}setInitialPoster(){this.elements.posterImg&&(this.elements.posterImg.src=i,this.elements.posterImg.alt="Track poster")}setupPlaylistDisplay(){if(!this.elements.player||!this.elements.toggles.length||!this.elements.jpAudio){console.warn("Required elements for playlist display not found");return}this.elements.toggles.forEach(e=>{e.addEventListener("click",this.handlePlaylistToggle.bind(this),!1)})}handlePlaylistToggle(e){try{const t=Array.from(this.elements.toggles).find(l=>l.classList.contains("selected")),s=e.target;if(!t||!s){console.warn("Toggle elements not found");return}this.elements.jpAudio.scrollTop=0,t.classList.remove("selected"),s.classList.add("selected");const r=t.getAttribute("data-display"),o=s.getAttribute("data-display");this.elements.player.classList.remove(`playlist-${r}`),this.elements.player.classList.add(`playlist-${o}`)}catch(t){console.error("Error handling playlist toggle:",t)}}getState(){return{isInitialized:this.isInitialized,elements:Object.keys(this.elements).reduce((e,t)=>(e[t]=this.elements[t]!==null,e),{})}}}const u=new d;u.init();const n="/jplayer-skin-audiocheck/assets/poster-stark-palace-Cw630J58.jpg";function g(a){return["title","artist","record","mp3","oga","poster"].every(t=>a[t]&&typeof a[t]=="string")}const c=[{title:"Bubble",artist:"Miaow",record:"Record Name",free:!0,mp3:"https://www.jplayer.org/audio/mp3/Miaow-07-Bubble.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-07-Bubble.ogg",poster:i},{title:"Cro Magnon Man",artist:"The Stark Palace",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/TSP-01-Cro_magnon_man.mp3",oga:"https://www.jplayer.org/audio/ogg/TSP-01-Cro_magnon_man.ogg",poster:n},{title:"Tempered Song",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-01-Tempered-song.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-01-Tempered-song.ogg",poster:i},{title:"Your Face",artist:"The Stark Palace",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/TSP-05-Your_face.mp3",oga:"https://www.jplayer.org/audio/ogg/TSP-05-Your_face.ogg",poster:n},{title:"Hidden",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-02-Hidden.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-02-Hidden.ogg",poster:i},{title:"Lentement",artist:"Miaow",record:"Record Name",free:!0,mp3:"https://www.jplayer.org/audio/mp3/Miaow-03-Lentement.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-03-Lentement.ogg",poster:i},{title:"Cyber Sonnet",artist:"The Stark Palace",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/TSP-07-Cybersonnet.mp3",oga:"https://www.jplayer.org/audio/ogg/TSP-07-Cybersonnet.ogg",poster:n},{title:"Lismore",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-04-Lismore.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-04-Lismore.ogg",poster:i},{title:"The Separation",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-05-The-separation.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-05-The-separation.ogg",poster:i},{title:"Beside Me",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-06-Beside-me.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-06-Beside-me.ogg",poster:i},{title:"Stirring of a Fool",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-08-Stirring-of-a-fool.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-08-Stirring-of-a-fool.ogg",poster:i},{title:"Partir",artist:"Miaow",record:"Record Name",free:!0,mp3:"https://www.jplayer.org/audio/mp3/Miaow-09-Partir.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-09-Partir.ogg",poster:i},{title:"Thin Ice",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-10-Thin-ice.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-10-Thin-ice.ogg",poster:i}],p=c.filter(a=>!g(a));p.length>0&&console.warn("Invalid tracks found in playlist:",p);const m="/jplayer-skin-audiocheck/assets/jquery.jplayer-Cgbn2Yg-.swf";class w{constructor(){this.jPlaylist=null,this.isInitialized=!1,this.elements={artist:null,poster:null,record:null,title:null}}init(){try{this.setupElements(),this.setupPlayer(),this.isInitialized=!0}catch(e){console.error("Failed to initialize JPlayerManager:",e)}}setupElements(){this.elements={artist:document.querySelector(".track-artist"),poster:document.querySelector(".track-poster img"),record:document.querySelector(".track-record"),title:document.querySelector(".track-title")};const e=Object.entries(this.elements).filter(([,t])=>!t).map(([t])=>t);e.length>0&&console.warn("Missing required elements:",e)}setupPlayer(){if(typeof jPlayerPlaylist>"u"){console.error("jPlayerPlaylist is not available");return}try{this.jPlaylist=new jPlayerPlaylist({jPlayer:"#jplayer-1",cssSelectorAncestor:"#jplayer-container-1"},c,{swfPath:this.getSwfPath(),supplied:"oga, mp3",wmode:"window",useStateClassSkin:!0,autoBlur:!1,keyEnabled:!0,ready:()=>this.setupCurrentTrack(),play:()=>this.setupCurrentTrack(),ended:()=>this.setupCurrentTrack(),error:e=>this.handlePlayerError(e)})}catch(e){console.error("Failed to setup jPlayer:",e)}}getSwfPath(){return m.replace(/\/[^/]*$/,"")}setupCurrentTrack(){try{if(!this.jPlaylist||!this.jPlaylist.playlist||this.jPlaylist.current===void 0){console.warn("jPlaylist not properly initialized");return}const e=this.jPlaylist.playlist[this.jPlaylist.current];if(!e){console.warn("No current track found");return}this.updateTrackElements(e)}catch(e){console.error("Error setting up current track:",e)}}updateTrackElements(e){const{artist:t,poster:s,record:r,title:o}=this.elements;t&&e.artist&&(t.textContent=e.artist),s&&e.poster&&(s.setAttribute("src",e.poster),s.setAttribute("alt",`${e.artist} - ${e.title}`)),r&&e.record&&(r.textContent=e.record),o&&e.title&&(o.textContent=e.title)}handlePlayerError(e){console.error("jPlayer error:",e)}getPlaylistState(){return this.jPlaylist?{isInitialized:this.isInitialized,currentTrack:this.jPlaylist.current,totalTracks:this.jPlaylist.playlist.length,currentTrackData:this.jPlaylist.playlist[this.jPlaylist.current]||null}:{isInitialized:!1}}getJPlaylist(){return this.jPlaylist}}const y=new w;y.init();
