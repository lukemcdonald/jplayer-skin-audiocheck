(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();const o="/jplayer-skin-audiocheck/assets/poster-audiotheme-C3F4PnG4.jpg";class u{constructor(){this.isInitialized=!1,this.elements={posterImg:null,player:null,toggles:null,jpAudio:null}}init(){this.setupTouchDetection(),this.setupElements(),this.setInitialPoster(),this.setupPlaylistDisplay(),this.isInitialized=!0}setupTouchDetection(){const e="ontouchstart"in window||"onmsgesturechange"in window;document.body.classList.add(e?"touch":"no-touch")}setupElements(){this.elements={posterImg:document.getElementById("track-poster-img"),player:document.querySelector(".audio-player"),toggles:document.querySelectorAll(".playlist-toggles button"),jpAudio:document.querySelector(".jp-audio")}}setInitialPoster(){this.elements.posterImg&&(this.elements.posterImg.src=o,this.elements.posterImg.alt="Track poster")}setupPlaylistDisplay(){!this.elements.player||!this.elements.toggles.length||!this.elements.jpAudio||this.elements.toggles.forEach(e=>{e.addEventListener("click",this.handlePlaylistToggle.bind(this),!1)})}handlePlaylistToggle(e){const i=Array.from(this.elements.toggles).find(l=>l.classList.contains("selected")),r=e.target;if(!i||!r)return;this.elements.jpAudio.scrollTop=0,i.classList.remove("selected"),r.classList.add("selected");const t=i.getAttribute("data-display"),s=r.getAttribute("data-display");this.elements.player.classList.remove(`playlist-${t}`),this.elements.player.classList.add(`playlist-${s}`)}getState(){return{isInitialized:this.isInitialized,elements:Object.keys(this.elements).reduce((e,i)=>(e[i]=this.elements[i]!==null,e),{})}}}const c=new u,d=[{title:"Bubble",artist:"Miaow",record:"Record Name",free:!0,mp3:"https://www.jplayer.org/audio/mp3/Miaow-07-Bubble.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-07-Bubble.ogg",poster:o},{title:"Tempered Song",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-01-Tempered-song.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-01-Tempered-song.ogg",poster:o},{title:"Lismore",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-04-Lismore.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-04-Lismore.ogg",poster:o},{title:"Stirring of a Fool",artist:"Miaow",record:"Record Name",mp3:"https://www.jplayer.org/audio/mp3/Miaow-08-Stirring-of-a-fool.mp3",oga:"https://www.jplayer.org/audio/ogg/Miaow-08-Stirring-of-a-fool.ogg",poster:o}],p="/jplayer-skin-audiocheck/assets/jquery.jplayer-Cgbn2Yg-.swf";class y{constructor(){this.jPlaylist=null,this.isInitialized=!1,this.elements={artist:null,poster:null,record:null,title:null}}init(){this.setupElements(),this.setupPlayer(),this.isInitialized=!0}setupElements(){this.elements={artist:document.querySelector(".track-artist"),poster:document.querySelector(".track-poster img"),record:document.querySelector(".track-record"),title:document.querySelector(".track-title")}}setupPlayer(){typeof jPlayerPlaylist>"u"||(this.jPlaylist=new jPlayerPlaylist({jPlayer:"#jplayer-1",cssSelectorAncestor:"#jplayer-container-1"},d,{autoBlur:!1,keyEnabled:!0,supplied:"oga, mp3",swfPath:this.getSwfPath(),useStateClassSkin:!0,wmode:"window",ended:()=>this.setupCurrentTrack(),error:e=>this.handlePlayerError(e),play:()=>this.setupCurrentTrack(),ready:()=>this.setupCurrentTrack()}))}getSwfPath(){return p.replace(/\/[^/]*$/,"")}setupCurrentTrack(){if(!this.jPlaylist||!this.jPlaylist.playlist||this.jPlaylist.current===void 0)return;const e=this.jPlaylist.playlist[this.jPlaylist.current];e&&this.updateTrackElements(e)}updateTrackElements(e){const{artist:i,poster:r,record:t,title:s}=this.elements;i&&e.artist&&(i.textContent=e.artist),r&&e.poster&&(r.setAttribute("src",e.poster),r.setAttribute("alt",`${e.artist} - ${e.title}`)),t&&e.record&&(t.textContent=e.record),s&&e.title&&(s.textContent=e.title)}handlePlayerError(){}getPlaylistState(){return this.jPlaylist?{isInitialized:this.isInitialized,currentTrack:this.jPlaylist.current,totalTracks:this.jPlaylist.playlist.length,currentTrackData:this.jPlaylist.playlist[this.jPlaylist.current]||null}:{isInitialized:!1}}getJPlaylist(){return this.jPlaylist}}const g=new y;function n(){c.init(),g.init()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n):n();
